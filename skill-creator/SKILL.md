---
name: "skill-creator"
description: >
  新しいClaude Codeスキルを作成します。ユーザーが新しいスキルを作成したい、カスタムスキルを構築したい、
  スキルを生成したい、またはスキルの作成について質問した時に使用します。
  キーワード - スキル作成、新規スキル、スキル作成、スキル構築、スキル生成。
version: 1.0.0
---

# スキル作成ツール

## 目的

このスキルは、ユーザーが適切なディレクトリ構造、YAMLフロントマター付きのSKILL.mdファイル、およびベストプラクティスに従ったサポートドキュメントファイルを生成することで、新しいClaude Codeスキルを作成するのを支援します。

公式のスキル仕様（[anthropics/skills](https://github.com/anthropics/skills)）に基づき、**Progressive Disclosure（段階的開示）**の原則に従って、効率的なコンテキスト管理を実現するスキルを作成します。

## このスキルを使用するタイミング

以下の場合にこのスキルを使用します：

- ユーザーが新しいスキルの作成を依頼する
- ユーザーが「〜のスキルを作成」と言う
- ユーザーが「スキル作成」または「スキルを構築」と言及する
- ユーザーがカスタムClaude Code機能を生成したい

## スキル作成プロセス

### ステップ0: リサーチを実施

スキル作成を開始する前に、徹底的なリサーチを実施します。必要に応じて `research` スキルを使用してください。

**重要**: このステップは高品質なスキルを作成するために不可欠です。以下の調査を行います：

1. **既存スキルの確認**:
   - リポジトリ内で類似の機能を持つスキルが既に存在するか確認
   - 既存のスキルを拡張または改善できるか検討
   - 重複を避け、既存スキルとの統合可能性を評価

2. **関連技術のベストプラクティスを調査**:
   - スキルが対象とする技術やツールの最新のベストプラクティスを確認
   - 公式ドキュメント、業界標準、推奨パターンを調査
   - 最新のバージョンや機能変更を確認

3. **類似ツールやワークフローの調査**:
   - コミュニティで確立された方法論やパターンを探す
   - 他のプロジェクトでの成功例を参考にする
   - アンチパターンや避けるべき実装を特定

4. **依存関係と互換性の確認**:
   - 必要なツール、ライブラリ、外部依存関係を特定
   - バージョン互換性や制限事項を確認
   - プラットフォーム固有の考慮事項を調査

5. **実装例の収集**:
   - 実際の使用例やコードスニペットを探す
   - ドキュメント、チュートリアル、ブログ記事から学ぶ
   - コミュニティのベストプラクティスを確認

**リサーチ結果の活用方法**:

- スキルの説明に適切なトリガーキーワードを含める
- 業界標準に沿った手順と用語を使用
- 実証済みのパターンとベストプラクティスを組み込む
- 潜在的な問題やエッジケースを事前に特定
- 適切な例と参照を含める

**リサーチのスコープ**:

- 簡単なスキル（10-15分のリサーチ）: 基本的な重複確認とドキュメント参照
- 中程度のスキル（30-45分のリサーチ）: 包括的なベストプラクティス調査
- 複雑なスキル（1-2時間のリサーチ）: 深い技術調査と複数情報源の検証

### ステップ1: 要件を収集

**ステップ0のリサーチ結果を活用しながら**、まだ提供されていない場合、ユーザーに以下の情報を尋ねます：

1. **スキル名**:
   - ハイフン区切りの小文字を使用（例: "code-reviewer", "api-tester"）
   - 説明的でユニークでなければなりません
   - 最大64文字

2. **スキル説明**:
   - スキルが何をするかを説明
   - ユーザーが言及する可能性のあるトリガーキーワードを含める
   - Claudeがこのスキルを起動すべきタイミングを指定
   - 最大200文字
   - **リサーチで確認した業界標準の用語やキーワードを使用**
   - 例: "コードをベストプラクティスと潜在的な問題についてレビューします。コードレビュー、コード品質チェック、コードパターン分析時に使用します。"

3. **スキルの目的**:
   - スキルの機能の詳細な説明
   - どのような問題を解決しますか？
   - 期待される成果は何ですか？

4. **指示**:
   - Claudeが従うべきステップバイステップのプロセス
   - 使用する特定のツールまたはアプローチ
   - 対処すべきエッジケース
   - **リサーチで発見したベストプラクティスとパターンを組み込む**
   - **調査で特定した潜在的な問題やアンチパターンに対処する**

5. **例**（任意だが推奨）:
   - 実際の使用シナリオ
   - 入力/出力例
   - 一般的なユースケース
   - **リサーチで収集した実装例を参考にする**
   - **コミュニティで確立された使用パターンを含める**

6. **依存関係**（任意）:
   - 必要なソフトウェアパッケージ（例: "python>=3.8", "node>=18"）
   - 必要な外部ツール
   - **リサーチで確認したバージョン互換性と制限事項を反映**

### ステップ2: ディレクトリ構造を作成

以下の構造でスキルディレクトリを作成します：

**公式推奨構造（anthropics/skills）:**
```
[skill-name]/
├── SKILL.md          # 必須: メインスキル定義（<5k語が推奨）
├── scripts/          # 任意: 実行可能なスクリプト（コンテキストに読み込まれない）
├── references/       # 任意: 必要時に読み込まれるドキュメント
└── assets/           # 任意: 出力用ファイル（テンプレート、ロゴなど）
```

**代替構造（このリポジトリで使用）:**
```
[skill-name]/
├── SKILL.md          # 必須: メインスキル定義
├── reference.md      # 任意: 詳細なリファレンスドキュメント
├── examples.md       # 任意: 拡張例
├── templates/        # 任意: テンプレートファイル
└── scripts/          # 任意: ヘルパースクリプト
```

**Progressive Disclosure（段階的開示）の原則:**

スキルは3段階でコンテキストを読み込みます：

1. **メタデータ**（常時、~100語）: name + description
2. **SKILL.md本文**（トリガー時、<5k語）: 手順とガイドライン
3. **バンドルリソース**（必要時）: scripts、references、assets

この設計により、効率的なコンテキスト管理を実現します。

### ステップ3: SKILL.mdを生成

以下の構造でSKILL.mdファイルを作成します：

**YAMLフロントマター:**

```yaml
---
name: [skill-name]                    # 必須: ハイフン区切りの小文字
description: >                         # 必須: third-personで記述
  [スキルの機能と使用タイミングを説明。トリガーキーワードを含める]
version: 1.0.0                         # 推奨: セマンティックバージョニング
dependencies: [依存関係]               # 任意: 必要なツールやライブラリ
allowed-tools: [Tool1, Tool2]          # 任意: Claude Codeのみ、事前承認ツール
license: [ライセンス]                  # 任意: 簡潔に
metadata:                              # 任意: カスタムキー・バリューペア
  key: value
---
```

**重要な記述ガイドライン:**

- **description**: third-person（三人称）で記述
  - ❌ "Use this skill when..."
  - ✅ "This skill should be used when..."
- **本文**: imperative/infinitive form（命令形/不定詞形）を使用
  - ✅ "To accomplish X, do Y"
  - ✅ "Check the file permissions"
  - ❌ "You should check the file permissions"

**本文の構造:**

```markdown
# [スキル名]

## 目的
[このスキルが何をするか、いつ使用するかの詳細な説明]
[数文に抑える - 詳細はreferencesへ]

## 指示

### [ステップ1のタイトル]
[このステップの詳細な指示]
[imperative formを使用: "Do X", "Check Y", "Verify Z"]

### [ステップ2のタイトル]
[このステップの詳細な指示]

[必要に応じて追加のステップを続ける]

## 例

### 例1: [シナリオ名]
**ユーザーリクエスト**: "[ユーザー入力例]"

**期待される動作**:
[Claudeが行うべきこと]

### 例2: [別のシナリオ]
[追加の例]

## ベストプラクティス
- [ベストプラクティス1]
- [ベストプラクティス2]
[など]

## エラー処理
- [一般的なエラーの処理方法]
- [考慮すべきエッジケース]
```

**Progressive Disclosureのヒント:**

- SKILL.mdは<5k語を目指す
- 詳細な仕様はreferences/に移動
- テンプレートやボイラープレートはassets/に配置
- 実行可能なスクリプトはscripts/に配置

### ステップ4: バンドルリソースを作成（必要な場合）

**公式推奨構造:**

**scripts/** - 実行可能なスクリプト
- **目的**: 決定論的な実行、トークン効率
- **特徴**: コンテキストに読み込まれない
- **使用例**: rotate_pdf.py、validate_schema.sh、format_output.js
- **いつ使用**: 同じコードが繰り返し再作成される場合、または決定論的な信頼性が必要な場合

**references/** - リファレンスドキュメント
- **目的**: 必要時に読み込まれる詳細ドキュメント
- **特徴**: SKILL.mdよりも詳細な情報
- **使用例**: finance.md（財務スキーマ）、api_docs.md（API仕様）、policies.md（企業ポリシー）
- **いつ使用**: SKILL.mdが長くなりすぎる場合、詳細な仕様が必要な場合

**assets/** - 出力用ファイル
- **目的**: そのまま使用できる出力ファイル
- **特徴**: コンテキストに読み込まれない
- **使用例**: logo.png（ブランディング）、template.pptx（スライドテンプレート）、boilerplate/（フロントエンドボイラープレート）
- **いつ使用**: テンプレート、ロゴ、ボイラープレートコードなど

**代替構造（このリポジトリ）:**

**reference.md** - 詳細な技術仕様、APIリファレンス、広範なドキュメント

**examples.md** - 拡張例、チュートリアル、デモンストレーションシナリオ

**templates/** - ファイルテンプレート（公式のassets/に相当）

**scripts/** - ヘルパースクリプト（公式と同様）

**重要な原則:**

- 情報はSKILL.mdまたはreferencesのいずれかに配置（重複を避ける）
- SKILL.mdは重要な手順とワークフローのガイダンスのみ
- 詳細なリファレンス資料、スキーマ、例はreferencesへ移動
- コンテキスト管理を意識し、SKILL.mdを簡潔に保つ

### ステップ5: スキルを検証

完成前に以下を確認します：

1. **YAMLフロントマターの検証**:
   - 開始と終了の`---`マーカーを確認
   - 適切なインデント（スペースのみ、タブなし）を確認
   - 必須フィールド（name、description）が存在することを確認
   - フィールド値が制限内であることを検証

2. **説明の品質**:
   - 特定のトリガーキーワードを含む
   - スキルを使用するタイミングを明確に説明
   - 200文字以下

3. **指示の明確さ**:
   - ステップが明確で実行可能
   - 具体的な例を含む
   - エッジケースをカバー

4. **パスのフォーマット**:
   - すべてのファイルパスでフォワードスラッシュ（/）を使用
   - プラットフォーム固有のパスを使用しない

### ステップ6: 出力先

デフォルトでは、現在のディレクトリにスキルを作成します。ユーザーがインストールを希望する場合：

- **個人用**: `~/.claude/skills/[skill-name]/`
- **プロジェクト用**: `./.claude/skills/[skill-name]/`

不明な場合は、ユーザーにスキルを作成する場所を尋ねます。

## ツールの制限

スキルを作成する際は、以下を優先的に使用します：

- **Write** 新しいファイルの作成用
- **Bash** ディレクトリ作成のみ（mkdir）
- **Read** 作成されたファイルの確認用

## 重要な注意事項

1. **リサーチを怠らない**: スキル作成前のリサーチは必須です。既存スキル、ベストプラクティス、潜在的な問題を事前に調査することで、高品質で実用的なスキルを作成できます。

2. **スキルを焦点を絞ったものにする**: 1つのスキルは1つのことをうまく行うべきです。複雑なワークフローは、複数の補完的なスキルに分割すべきです。

3. **Progressive Disclosureを適用**: 3段階のコンテキスト読み込みを意識する
   - メタデータ（~100語）: name + description
   - SKILL.md本文（<5k語）: 重要な手順とガイドライン
   - バンドルリソース（必要時のみ）: scripts、references、assets

4. **適切な記述スタイルを使用**:
   - **description**: third-person（三人称）で記述
     - ❌ "Use this skill when..."
     - ✅ "This skill should be used when..."
   - **本文**: imperative/infinitive form（命令形/不定詞形）を使用
     - ✅ "To accomplish X, do Y"
     - ✅ "Check the file permissions"
     - ❌ "You should check the file permissions"

5. **コンテキストを効率的に管理**:
   - SKILL.mdは簡潔に保つ（<5k語）
   - 詳細な仕様はreferences/に移動
   - スクリプトは決定論的な実行が必要な場合のみ使用
   - 重複を避ける（情報はSKILL.mdまたはreferencesのいずれか）

6. **テストの推奨**: 以下の方法でスキルをテストすることをユーザーに提案します：
   - `~/.claude/skills/`に配置
   - トリガーキーワードに一致するリクエストを行う
   - Claudeが適切にスキルを起動することを確認
   - 実際の使用シナリオでテストし、即座にフィードバックに基づいて反復

7. **競合を避ける**: スキル名が既存のスキルと競合したり、組み込み機能に似すぎていないか確認します。

8. **公式リソースを参照**: [anthropics/skills](https://github.com/anthropics/skills)リポジトリで最新の例とベストプラクティスを確認します。

## 一般的なパターン

### シンプルなスキル（SKILL.mdのみ）

単純なタスクの場合、SKILL.mdだけで十分です。

**例**: コマンドラッパー、シンプルなチェッカー

### スクリプトベースのスキル

決定論的な実行が必要な場合：

**公式構造**:
- SKILL.md（指示）
- scripts/（実行可能なスクリプト）

**例**: PDFエディター（rotate_pdf.py）、データバリデーター（validate_schema.sh）

### リファレンス重視のスキル

詳細なドキュメントが必要な場合：

**公式構造**:
- SKILL.md（ワークフロー）
- references/（API仕様、スキーマ、ポリシー）

**例**: BigQueryスキル（schema.md）、財務スキル（finance.md）

### テンプレートベースのスキル

ファイルを生成するスキルの場合：

**公式構造**:
- SKILL.md（指示）
- assets/（テンプレート、ボイラープレート）

**代替構造**:
- SKILL.md（指示）
- templates/（ファイルテンプレート）

**例**: フロントエンドビルダー（hello-worldボイラープレート）、プロジェクトイニシャライザー

### 複合スキル

複数のリソースタイプが必要な場合：

**公式構造**:
- SKILL.md（コア指示）
- scripts/（実行可能コード）
- references/（技術的詳細）
- assets/（テンプレート、ロゴなど）

**代替構造**:
- SKILL.md（コア指示）
- reference.md（技術的詳細）
- examples.md（拡張例）
- templates/（ファイルテンプレート）
- scripts/（ヘルパースクリプト）

## エラー処理

リサーチで類似スキルが見つかった場合：

1. ユーザーに既存スキルを提示
2. 既存スキルの拡張または統合を提案
3. 新規作成の必要性を確認

ユーザーの要件が不明確な場合：

1. 明確化のための具体的な質問をする
2. 類似スキルの例を提供
3. スキルが広範すぎる場合は簡素化を提案
4. **リサーチ結果を共有し、方向性を決定**

スキル名が既に存在する場合：

1. ユーザーに警告
2. 代替名を提案
3. 上書きするか尋ねる

## 出力形式

スキルを作成した後、以下を提供します：

1. **リサーチサマリー**（実施したリサーチの主要な発見）
2. 作成内容の概要
3. ファイルの場所
4. テストの次のステップ
5. インストール手順

出力例：

```
リサーチサマリー:
- 既存の類似スキル: なし
- 参照したベストプラクティス: Google Style Guide、ESLint推奨設定
- 主要な発見: コードレビューは自動化と人間の判断の組み合わせが重要

作成されたスキル: code-reviewer
場所: ./code-reviewer/

作成されたファイル:
- SKILL.md（メイン定義）
- reference.md（コーディング標準リファレンス）
- examples.md（レビュー例）

次のステップ:
1. 生成されたファイルを確認
2. スキルをテスト: cp -r code-reviewer ~/.claude/skills/
3. 試してみる: "このコードファイルをレビューしてください"
```
